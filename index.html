<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Derni√®re Dispo - Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #3453BF;
            --accent: #E77F74;
            --bg: #F8F9FC;
            --card-bg: #FFFFFF;
            --text: #1a1a2e;
            --text-light: #6b7280;
            --border: #E5E7EB;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            min-height: 100vh;
            color: var(--text);
            padding: 40px 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .logo {
            max-width: 250px;
            margin-bottom: 15px;
        }
        
        .subtitle {
            color: var(--text-light);
            font-size: 1.1rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid var(--border);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .stat-card.main {
            grid-column: span 2;
            text-align: center;
            background: linear-gradient(135deg, var(--card-bg) 0%, #F0F4FF 100%);
            position: relative;
            overflow: hidden;
        }
        
        /* Carousel carte principale */
        .main-carousel {
            display: flex;
            transition: transform 0.4s ease;
            width: 200%;
        }
        
        .main-slide {
            width: 50%;
            flex-shrink: 0;
            padding: 10px 0;
        }
        
        .carousel-arrow {
            position: absolute;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2;
            opacity: 0.7;
            transition: opacity 0.2s;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .carousel-arrow:hover { opacity: 1; }
        .carousel-arrow.left { left: 12px; }
        .carousel-arrow.right { right: 12px; }
        .carousel-arrow.hidden { display: none !important; }
        
        @media (max-width: 768px) {
            .carousel-arrow {
                top: 14px;
                transform: none;
                width: 32px;
                height: 32px;
                font-size: 1rem;
            }
        }
        
        /* Graphique barres */
        .chart-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .chart-bars {
            display: flex;
            align-items: flex-end;
            gap: 8px;
            height: 180px;
            padding-top: 10px;
        }
        
        .chart-bar-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
            justify-content: flex-end;
        }
        
        .chart-bar {
            width: 100%;
            max-width: 50px;
            background: var(--accent);
            border-radius: 6px 6px 0 0;
            transition: height 1s ease;
            position: relative;
            min-height: 4px;
        }
        
        .year-separator {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            height: 100%;
            padding: 0 6px;
        }
        
        .year-separator .line {
            border-left: 2px dashed var(--accent);
            flex: 1;
            margin-bottom: 6px;
            opacity: 0.5;
        }
        
        .year-separator .year-label {
            font-size: 0.7rem;
            color: var(--accent);
            font-weight: 700;
            white-space: nowrap;
        }
        
        .chart-bar-value {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 4px;
        }
        
        .chart-bar-label {
            font-size: 0.7rem;
            color: var(--text-light);
            margin-top: 6px;
            font-weight: 500;
        }
        
        /* Dots indicator */
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 12px;
        }
        
        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--border);
            transition: background 0.3s;
        }
        
        .carousel-dot.active {
            background: var(--primary);
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
            font-weight: 500;
        }
        
        .stat-value {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .stat-value.primary { color: var(--primary); }
        .stat-value.accent { color: var(--accent); }
        
        .progress-container {
            margin-top: 20px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .progress-bar {
            height: 24px;
            background: var(--border);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 12px;
            transition: width 1.5s ease;
            position: relative;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            font-size: 0.9rem;
            color: var(--text-light);
            font-weight: 500;
        }
        
        .section-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--text);
            font-weight: 600;
        }
        
        /* Carousel Netflix style */
        .carousel-section {
            margin-top: 40px;
        }
        
        .carousel-container {
            overflow-x: auto;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
            padding-bottom: 10px;
        }
        
        .carousel-container::-webkit-scrollbar {
            display: none;
        }
        
        .carousel-track {
            display: flex;
            gap: 15px;
            padding: 5px;
        }
        
        .carousel-card {
            flex: 0 0 auto;
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px 25px;
            min-width: 140px;
            text-align: center;
            border: 1px solid var(--border);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .carousel-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .carousel-card .label {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text);
            font-size: 0.95rem;
        }
        
        .carousel-card .value {
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .carousel-card .value.accent {
            color: var(--accent);
        }
        
        /* Actions */
        .actions-section {
            margin-top: 40px;
        }
        
        .action-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border);
        }
        
        .action-card h3 {
            font-size: 1rem;
            margin-bottom: 15px;
            color: var(--primary);
            font-weight: 600;
        }
        
        .action-list {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }
        
        .action-list li {
            padding: 12px 15px;
            background: var(--bg);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
        }
        
        .status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
            background: var(--accent);
        }
        
        .update-info {
            text-align: center;
            margin-top: 40px;
            color: var(--text-light);
            font-size: 0.85rem;
        }
        
        /* Desktop: carte principale full width, 4 cartes en dessous */
        @media (min-width: 769px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .stat-card.main {
                grid-column: 1 / -1;
            }
        }
        
        /* Top lieux table section */
        .lieux-section {
            margin-top: 40px;
        }
        
        .lieux-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .lieux-search-wrapper {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .lieux-search {
            padding: 10px 16px;
            border: 1px solid var(--border);
            border-radius: 10px;
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            background: var(--card-bg);
            color: var(--text);
            width: 260px;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        
        .lieux-search:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(52, 83, 191, 0.1);
        }
        
        .lieux-count {
            font-size: 0.85rem;
            color: var(--text-light);
            font-weight: 500;
        }
        
        .lieux-table-wrapper {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid var(--border);
            overflow: hidden;
        }
        
        .lieux-table-scroll {
            max-height: 600px;
            overflow-y: auto;
        }
        
        .lieux-table-scroll::-webkit-scrollbar {
            width: 6px;
        }
        
        .lieux-table-scroll::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .lieux-table-scroll::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }
        
        .lieux-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .lieux-table thead {
            position: sticky;
            top: 0;
            z-index: 1;
        }
        
        .lieux-table th {
            background: var(--bg);
            padding: 12px 16px;
            text-align: left;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-light);
            font-weight: 600;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
            border-bottom: 1px solid var(--border);
        }
        
        .lieux-table th:hover {
            color: var(--primary);
        }
        
        .lieux-table th .sort-icon {
            margin-left: 4px;
            font-size: 0.7rem;
            opacity: 0.4;
        }
        
        .lieux-table th.sorted .sort-icon {
            opacity: 1;
            color: var(--primary);
        }
        
        .lieux-table td {
            padding: 12px 16px;
            font-size: 0.9rem;
            border-bottom: 1px solid var(--border);
            color: var(--text);
        }
        
        .lieux-table tbody tr:hover {
            background: rgba(52, 83, 191, 0.03);
        }
        
        .lieux-table tbody tr:last-child td {
            border-bottom: none;
        }
        
        .rank-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 0.8rem;
        }
        
        .rank-badge.top {
            background: var(--primary);
            color: white;
        }
        
        .rank-badge.normal {
            color: var(--text-light);
            font-weight: 500;
        }
        
        .lieu-name {
            font-weight: 500;
            color: var(--text);
        }
        
        .lieu-views {
            font-weight: 600;
            color: var(--primary);
        }
        
        .lieu-visitors {
            font-weight: 500;
            color: var(--text-light);
        }
        
        .lieu-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.85rem;
            white-space: nowrap;
        }
        
        .lieu-link:hover {
            text-decoration: underline;
        }
        
        .lieux-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-light);
            font-size: 0.95rem;
        }
        
        @media (max-width: 768px) {
            .stat-card.main {
                grid-column: span 1;
            }
            
            .stat-value {
                font-size: 2.5rem;
            }
            
            .action-list {
                grid-template-columns: 1fr;
            }
            
            .chart-bars {
                height: 140px;
                gap: 5px;
            }
            
            .chart-bar {
                max-width: 35px;
            }
            
            .carousel-arrow {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
            }
            
            .lieux-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .lieux-search {
                width: 100%;
            }
            
            .lieux-table th,
            .lieux-table td {
                padding: 10px 12px;
            }
            
            .lieux-table .col-visitors {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="https://dernieredispo.com" target="_blank"><img src="https://dernieredispo.com/wp-content/uploads/2025/07/derniere-dispo-1.webp" alt="Derni√®re Dispo" class="logo"></a>
            <p class="subtitle">Dashboard de croissance | Objectif 1000 lieux fin 2026</p>
        </header>
        
        <div class="stats-grid">
            <div class="stat-card main">
                <button class="carousel-arrow left hidden" id="arrow-left" onclick="slideMain(0)">‚Äπ</button>
                <button class="carousel-arrow right" id="arrow-right" onclick="slideMain(1)">‚Ä∫</button>
                
                <div class="main-carousel" id="main-carousel">
                    <!-- Slide 1 : Jauge -->
                    <div class="main-slide">
                        <div class="stat-label">Lieux r√©f√©renc√©s</div>
                        <div class="stat-value primary" id="lieux-count">363</div>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill" style="width: 0%">
                                    <span style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); font-size: 0.75rem; font-weight: 600; color: white;" id="progress-percent">36.6%</span>
                                </div>
                            </div>
                            <div class="progress-text">
                                <span>Actuel : 366</span>
                                <span><strong>Objectif : 1000</strong></span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Slide 2 : Graphique par mois -->
                    <div class="main-slide">
                        <div class="stat-label">Lieux ajout√©s par mois</div>
                        <div class="chart-container">
                            <div class="chart-bars" id="chart-bars"></div>
                        </div>
                    </div>
                </div>
                
                <div class="carousel-dots">
                    <div class="carousel-dot active" id="dot-0"></div>
                    <div class="carousel-dot" id="dot-1"></div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Rythme n√©cessaire</div>
                <div class="stat-value primary">+63</div>
                <div style="color: var(--text-light); font-size: 0.9rem;">lieux/mois pour atteindre 1000</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Abonn√©s Instagram</div>
                <div class="stat-value accent" id="instagram-count">49</div>
                <a href="https://www.instagram.com/derniere_dispo_evenementiel" target="_blank" style="color: var(--primary); font-size: 0.9rem; text-decoration: none;">@derniere_dispo_evenementiel</a>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Dernier ajout</div>
                <div class="stat-value accent" style="font-size: 1.5rem;" id="last-lieu">Off Golf</div>
                <div style="color: var(--text-light); font-size: 0.9rem;" id="last-lieu-date">10 f√©vrier 2026</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-label">Lieu le plus vu</div>
                <div class="stat-value primary" style="font-size: 1.5rem;">Rivage Hotel Spa</div>
                <div style="color: var(--text-light); font-size: 0.9rem;">145 vues</div>
            </div>
        </div>
        
        <div class="carousel-section">
            <h2 class="section-title">R√©partition g√©ographique</h2>
            <div class="carousel-container">
                <div class="carousel-track">
                    <div class="carousel-card">
                        <div class="label">Paris</div>
                        <div class="value">174</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Lyon</div>
                        <div class="value">30</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Marseille</div>
                        <div class="value accent">6</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Bordeaux</div>
                        <div class="value accent">6</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Chamonix</div>
                        <div class="value">5</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Puteaux</div>
                        <div class="value">3</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Villeurbanne</div>
                        <div class="value">3</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Autres</div>
                        <div class="value">136</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="carousel-section">
            <h2 class="section-title">Types de lieux</h2>
            <div class="carousel-container">
                <div class="carousel-track">
                    <div class="carousel-card">
                        <div class="label">Restaurant</div>
                        <div class="value">61</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Salle r√©ception</div>
                        <div class="value">61</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Centre conf√©rence</div>
                        <div class="value">47</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">H√¥tel</div>
                        <div class="value">47</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Bateau</div>
                        <div class="value">24</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Ch√¢teau</div>
                        <div class="value">18</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Salle r√©union</div>
                        <div class="value">17</div>
                    </div>
                    <div class="carousel-card">
                        <div class="label">Autre</div>
                        <div class="value">22</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="actions-section">
            <h2 class="section-title">Prochaines actions</h2>
            <div class="action-card">
                <ul class="action-list">
                    <li><span class="status"></span> Extraction base prospects (Kactus)</li>
                    <li><span class="status"></span> Campagne acquisition bars/p√©niches</li>
                    <li><span class="status"></span> Audit strat√©gique et recommandations de d√©veloppement (√† venir)</li>
                </ul>
            </div>
        </div>
        
        <div class="lieux-section">
            <div class="lieux-header">
                <h2 class="section-title" style="margin-bottom: 0;">üèÜ Top lieux les plus vus</h2>
                <div class="lieux-search-wrapper">
                    <input type="text" class="lieux-search" id="lieux-search" placeholder="Rechercher un lieu...">
                    <span class="lieux-count" id="lieux-count">366 lieux sur 366</span>
                </div>
            </div>
            <div class="lieux-table-wrapper">
                <div class="lieux-table-scroll">
                    <table class="lieux-table">
                        <thead>
                            <tr>
                                <th data-sort="rank" class="sorted" style="width: 50px;"># <span class="sort-icon">‚ñº</span></th>
                                <th data-sort="name">Lieu <span class="sort-icon">‚ñº</span></th>
                                <th data-sort="views" style="width: 90px;">Vues <span class="sort-icon">‚ñº</span></th>
                                <th data-sort="visitors" class="col-visitors" style="width: 100px;">Visiteurs <span class="sort-icon">‚ñº</span></th>
                                <th style="width: 80px;">Action</th>
                            </tr>
                        </thead>
                        <tbody id="lieux-tbody"></tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="update-info">
            Derni√®re mise √† jour : <span id="last-update"></span>
        </div>
    </div>
    
    <script>
        // Animation du compteur
        function animateValue(id, start, end, duration) {
            const obj = document.getElementById(id);
            const range = end - start;
            const startTime = performance.now();
            
            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const current = Math.floor(start + range * progress);
                obj.textContent = current;
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            
            requestAnimationFrame(update);
        }
        
        // Animation au chargement
        window.addEventListener('load', () => {
            animateValue('lieux-count', 0, 366, 1500);
            
            // Animation de la barre de progression
            setTimeout(() => {
                document.getElementById('progress-fill').style.width = '36.6%';
            }, 300);
        });
        
        // Date de mise √† jour
        document.getElementById('last-update').textContent = new Date().toLocaleDateString('fr-FR', {
            day: 'numeric',
            month: 'long',
            year: 'numeric'
        });
        
        // Carousel principale
        function slideMain(index) {
            document.getElementById('main-carousel').style.transform = `translateX(-${index * 50}%)`;
            document.getElementById('arrow-left').classList.toggle('hidden', index === 0);
            document.getElementById('arrow-right').classList.toggle('hidden', index === 1);
            document.querySelectorAll('.carousel-dot').forEach((d, i) => d.classList.toggle('active', i === index));
        }
        
        // Swipe support
        (function() {
            const el = document.getElementById('main-carousel');
            let startX = 0;
            let currentSlide = 0;
            el.addEventListener('touchstart', e => { startX = e.touches[0].clientX; });
            el.addEventListener('touchend', e => {
                const diff = startX - e.changedTouches[0].clientX;
                if (Math.abs(diff) > 50) {
                    currentSlide = diff > 0 ? 1 : 0;
                    slideMain(currentSlide);
                }
            });
        })();
        
        // Graphique barres par mois
        const monthlyData = [
            { label: 'Juil', value: 121, year: 2025 },
            { label: 'Ao√ªt', value: 12, year: 2025 },
            { label: 'Sep', value: 39, year: 2025 },
            { label: 'Oct', value: 64, year: 2025 },
            { label: 'Nov', value: 55, year: 2025 },
            { label: 'D√©c', value: 30, year: 2025 },
            { label: 'Jan', value: 40, year: 2026 },
            { label: 'F√©v', value: 2, year: 2026 }
        ];
        
        const maxVal = Math.max(...monthlyData.map(d => d.value));
        const chartEl = document.getElementById('chart-bars');
        
        monthlyData.forEach((d, i) => {
            // Separateur annee entre dec et jan
            if (i > 0 && d.year !== monthlyData[i - 1].year) {
                const sep = document.createElement('div');
                sep.className = 'year-separator';
                sep.innerHTML = `<div class="line"></div><div class="year-label">${d.year}</div>`;
                chartEl.appendChild(sep);
            }
            
            const pct = (d.value / maxVal) * 100;
            const group = document.createElement('div');
            group.className = 'chart-bar-group';
            // Afficher l'annee sous le premier mois
            const sublabel = d.label;
            group.innerHTML = `
                <div class="chart-bar-value">${d.value}</div>
                <div class="chart-bar" style="height: 0%" data-height="${pct}%"></div>
                <div class="chart-bar-label">${sublabel}</div>
            `;
            chartEl.appendChild(group);
        });
        
        // Animer les barres quand le slide est visible
        function animateBars() {
            document.querySelectorAll('.chart-bar').forEach(bar => {
                bar.style.height = bar.dataset.height;
            });
        }
        
        // Observer le slide 2 pour animer
        const observer = new MutationObserver(() => {
            const transform = document.getElementById('main-carousel').style.transform;
            if (transform.includes('50')) animateBars();
        });
        observer.observe(document.getElementById('main-carousel'), { attributes: true, attributeFilter: ['style'] });
        
        // === Top lieux table ===
        const ga4Data = {
            "Le Magnifique": { views: 9, visitors: 7 },
            "GoPark": { views: 8, visitors: 5 },
            "La Bellevilloise": { views: 7, visitors: 5 },
            "La Rotonde Stalingrad": { views: 7, visitors: 4 },
            "Le Lieu Secret": { views: 6, visitors: 5 },
            "L'Entracte Restaurant R√©ception": { views: 6, visitors: 1 },
            "Pachamama Paris": { views: 6, visitors: 6 },
            "Palais Brongniart": { views: 6, visitors: 5 },
            "Public House": { views: 6, visitors: 6 },
            "NH Paris Gare de l'Est": { views: 5, visitors: 3 },
            "Auteuil": { views: 4, visitors: 3 },
            "Bar Perch√©": { views: 4, visitors: 4 },
            "Ch√¢teau du Bois du Rocher": { views: 4, visitors: 2 },
            "Ch√¢teau Saint-L√©ger": { views: 4, visitors: 3 },
            "Grand Hotel Les Flamants Roses": { views: 4, visitors: 4 },
            "La Galerie Bourbon": { views: 4, visitors: 3 },
            "La Petite Halle": { views: 4, visitors: 3 },
            "Le Montebello": { views: 4, visitors: 1 },
            "Les Pavillons √âtoile Presbourg": { views: 4, visitors: 3 },
            "NH Paris Op√©ra Faubourg": { views: 4, visitors: 3 },
            "River Palace": { views: 4, visitors: 4 },
            "Rooftop Grenelle": { views: 4, visitors: 3 },
            "1K Hotel": { views: 3, visitors: 1 },
            "Atelier des Abbesses": { views: 3, visitors: 2 },
            "Bien Public": { views: 3, visitors: 3 },
            "Cosanostra": { views: 3, visitors: 2 },
            "La Salle de Sport Paris Madeleine": { views: 3, visitors: 3 },
            "Le Belv√©d√®re": { views: 3, visitors: 3 },
            "Le Cabaret de la Boh√®me": { views: 3, visitors: 2 },
            "Le Paris Clandestin": { views: 3, visitors: 2 },
            "L'Hermitage de Moly": { views: 3, visitors: 3 },
            "Manoir 92": { views: 3, visitors: 2 },
            "MaPiece Bellecour": { views: 3, visitors: 3 },
            "Mus√©e Banksy Paris": { views: 3, visitors: 2 },
            "Red Star FC Inside": { views: 3, visitors: 2 },
            "R√©sidence de l'Arsenal Royal": { views: 3, visitors: 3 },
            "Th√©√¢tre du Lido": { views: 3, visitors: 1 },
            "Tout le Monde en Parle": { views: 3, visitors: 3 },
            "Voyage Samaritaine": { views: 3, visitors: 2 }
        };
        
        // Normalize name for matching: lowercase, remove accents, strip special chars
        function normalizeName(s) {
            return s.normalize('NFD').replace(/[\u0300-\u036f]/g, '')
                    .toLowerCase()
                    .replace(/[^a-z0-9\s]/g, '')
                    .replace(/\s+/g, ' ')
                    .trim();
        }
        
        // Build normalized GA4 lookup
        const ga4Lookup = {};
        for (const [name, stats] of Object.entries(ga4Data)) {
            ga4Lookup[normalizeName(name)] = stats;
        }
        
        // All lieux from WordPress API
        const allLieux = [
            {name:"Off Golf",link:"https://dernieredispo.com/lieux/off-golf/"},
            {name:"Espace Cinko",link:"https://dernieredispo.com/lieux/espace-cinko/"},
            {name:"Moxy Paris Clamart",link:"https://dernieredispo.com/lieux/moxy-paris-clamart/"},
            {name:"Les Aiglons",link:"https://dernieredispo.com/lieux/les-aiglons/"},
            {name:"UGC ODEON",link:"https://dernieredispo.com/lieux/ugc-odeon/"},
            {name:"GOPARK",link:"https://dernieredispo.com/lieux/gopark/"},
            {name:"La Rotonde Stalingard",link:"https://dernieredispo.com/lieux/la-rotonde-stalingard/"},
            {name:"UGC CINE CITE BERCY",link:"https://dernieredispo.com/lieux/ugc-cine-cite-bercy/"},
            {name:"UGC CINE CITE MAILLOT",link:"https://dernieredispo.com/lieux/ugc-cine-cite-maillot/"},
            {name:"H√¥tel NH Lyon Airport",link:"https://dernieredispo.com/lieux/hotel-nh-lyon-airport/"},
            {name:"Public House",link:"https://dernieredispo.com/lieux/public-house/"},
            {name:"Divine House",link:"https://dernieredispo.com/lieux/divine-house/"},
            {name:"NH Paris Gare de l‚ÄôEst",link:"https://dernieredispo.com/lieux/nh-paris-gare-de-lest/"},
            {name:"NH Paris Op√©ra Faubourg",link:"https://dernieredispo.com/lieux/nh-paris-opera-faubourg/"},
            {name:"NH Collection Paris Ponthieu Champs-Elys√©es",link:"https://dernieredispo.com/lieux/nh-collection-paris-ponthieu-champs-elysees/"},
            {name:"Le Jardin de Verre by Locke",link:"https://dernieredispo.com/lieux/le-jardin-de-verre-by-locke/"},
            {name:"Ch√¢teau Le Fresne",link:"https://dernieredispo.com/lieux/chateau-le-fresne/"},
            {name:"Rotonde Pr√©sidence",link:"https://dernieredispo.com/lieux/rotonde-presidence/"},
            {name:"Bar Perch√©",link:"https://dernieredispo.com/lieux/bar-perche/"},
            {name:"Bleu Coupole",link:"https://dernieredispo.com/lieux/bleu-coupole/"},
            {name:"7√®me Ciel",link:"https://dernieredispo.com/lieux/7eme-ciel/"},
            {name:"Best Western Hotel Grand Parc",link:"https://dernieredispo.com/lieux/best-western-hotel-grand-parc/"},
            {name:"Holiday Inn Express Marne-la-Vall√©E by IHG",link:"https://dernieredispo.com/lieux/holiday-inn-express-marne-la-vallee-by-ihg/"},
            {name:"Domaine de la Pomm√©",link:"https://dernieredispo.com/lieux/domaine-de-la-pomme/"},
            {name:"NH Nice",link:"https://dernieredispo.com/lieux/nh-nice/"},
            {name:"MANOIR AUX LOUPS",link:"https://dernieredispo.com/lieux/manoir-aux-loups/"},
            {name:"H√¥tel NH Collection Marseille",link:"https://dernieredispo.com/lieux/hotel-nh-collection-marseille/"},
            {name:"L‚ÄôENTRACTE Restaurant & R√©ception",link:"https://dernieredispo.com/lieux/lentracte-restaurant-reception/"},
            {name:"nhow Marseille",link:"https://dernieredispo.com/lieux/nhow-marseille/"},
            {name:"LA CHARBONERIE",link:"https://dernieredispo.com/lieux/la-charbonerie/"},
            {name:"NODD",link:"https://dernieredispo.com/lieux/nodd/"},
            {name:"La D√©sirade 3*",link:"https://dernieredispo.com/lieux/la-desirade-3/"},
            {name:"Palais des Sports Robert Charpentier",link:"https://dernieredispo.com/lieux/palais-des-sports-robert-charpentier/"},
            {name:"MUSEE BANKSY PARIS",link:"https://dernieredispo.com/lieux/musee-banksy-paris/"},
            {name:"Parc Floral de Paris",link:"https://dernieredispo.com/lieux/parc-floral-de-paris/"},
            {name:"Paris Montreuil Expo",link:"https://dernieredispo.com/lieux/paris-montreuil-expo/"},
            {name:"Paris Event Center",link:"https://dernieredispo.com/lieux/paris-event-center/"},
            {name:"Maison de la Mutualit√©",link:"https://dernieredispo.com/lieux/maison-de-la-mutualite/"},
            {name:"Palais Brongniart",link:"https://dernieredispo.com/lieux/palais-brongniart/"},
            {name:"Voyage Samaritaine",link:"https://dernieredispo.com/lieux/voyage-samaritaine/"},
            {name:"Pavillon Chesnaie du Roy",link:"https://dernieredispo.com/lieux/pavillon-chesnaie-du-roy/"},
            {name:"Aqua Kyoto",link:"https://dernieredispo.com/lieux/aqua-kyoto/"},
            {name:"CITE DU VIN",link:"https://dernieredispo.com/lieux/cite-du-vin/"},
            {name:"La Bellevilloise",link:"https://dernieredispo.com/lieux/la-bellevilloise/"},
            {name:"Grand H√¥tel Le Lido****",link:"https://dernieredispo.com/lieux/grand-hotel-le-lido/"},
            {name:"Grand H√¥tel Les Flamants Roses****",link:"https://dernieredispo.com/lieux/grand-hotel-les-flamants-roses/"},
            {name:"Le Madeloc****",link:"https://dernieredispo.com/lieux/le-madeloc/"},
            {name:"Domaine du Golfe du Lion",link:"https://dernieredispo.com/lieux/domaine-du-golfe-du-lion/"},
            {name:"Ile de la Lagune*****",link:"https://dernieredispo.com/lieux/ile-de-la-lagune/"},
            {name:"Grand H√¥tel du Midi****",link:"https://dernieredispo.com/lieux/grand-hotel-du-midi/"},
            {name:"Le Royal-H√¥tel***",link:"https://dernieredispo.com/lieux/le-royal-hotel/"},
            {name:"Port-Marine***",link:"https://dernieredispo.com/lieux/port-marine/"},
            {name:"MAPI√àCE Beaujolais domaine l‚ÄôArlequin",link:"https://dernieredispo.com/lieux/mapiece-beaujolais-domaine-larlequin/"},
            {name:"La Petite Halle",link:"https://dernieredispo.com/lieux/la-petite-halle/"},
            {name:"Bien Public",link:"https://dernieredispo.com/lieux/bien-public/"},
            {name:"City Center Vieux Port",link:"https://dernieredispo.com/lieux/city-center-vieux-port/"},
            {name:"Sky Center La Tour la Marseillaise",link:"https://dernieredispo.com/lieux/sky-center-la-tour-la-marseillaise/"},
            {name:"Palais de la Bourse",link:"https://dernieredispo.com/lieux/palais-de-la-bourse/"},
            {name:"Griffon",link:"https://dernieredispo.com/lieux/griffon/"},
            {name:"La Fabuleuse Cantine",link:"https://dernieredispo.com/lieux/la-fabuleuse-cantine/"},
            {name:"Golf de Cholet",link:"https://dernieredispo.com/lieux/golf-de-cholet/"},
            {name:"DOCK B",link:"https://dernieredispo.com/lieux/dock-b/"},
            {name:"Poin√ßon",link:"https://dernieredispo.com/lieux/poincon/"},
            {name:"LE LIEU √âV√àNEMENT",link:"https://dernieredispo.com/lieux/le-lieu-evenement/"},
            {name:"Cispa ‚Äì Centre d‚ÄôInitiation aux Sports de Plein Air",link:"https://dernieredispo.com/lieux/cispa-centre-dinitiation-aux-sports-de-plein-air/"},
            {name:"ZAW",link:"https://dernieredispo.com/lieux/zaw/"},
            {name:"Le Vogue",link:"https://dernieredispo.com/lieux/le-vogue/"},
            {name:"Le Strass",link:"https://dernieredispo.com/lieux/le-strass/"},
            {name:"Le Bowling Foch ‚Äî Espace Jeu & Loisirs",link:"https://dernieredispo.com/lieux/le-bowling-foch-espace-jeu-loisirs/"},
            {name:"Le Duplex",link:"https://dernieredispo.com/lieux/le-duplex/"},
            {name:"Ch√¢teau de Lastours",link:"https://dernieredispo.com/lieux/chateau-de-lastours/"},
            {name:"Gliss√©o Patinoire",link:"https://dernieredispo.com/lieux/glisseo-patinoire/"},
            {name:"Parc Expo de la Meilleraie",link:"https://dernieredispo.com/lieux/parc-expo-de-la-meilleraie/"},
            {name:"Espace R√©aumur",link:"https://dernieredispo.com/lieux/espace-reaumur/"},
            {name:"Quartier G√©n√©ral",link:"https://dernieredispo.com/lieux/quartier-general/"},
            {name:"La Villa Parf√™te",link:"https://dernieredispo.com/lieux/la-villa-parfete/"},
            {name:"La boussole",link:"https://dernieredispo.com/lieux/la-boussole/"},
            {name:"Centre Loisir ‚Äì Le Duplex ‚Äì Etoile Foch",link:"https://dernieredispo.com/lieux/centre-loisir-le-duplex-etoile-foch/"},
            {name:"Ch√¢teau Saint-L√©ger",link:"https://dernieredispo.com/lieux/chateau-saint-leger/"},
            {name:"Le Bar √† Bulles",link:"https://dernieredispo.com/lieux/le-bar-a-bulles/"},
            {name:"La Machine du Moulin Rouge",link:"https://dernieredispo.com/lieux/la-machine-du-moulin-rouge/"},
            {name:"Red Star FC ‚Äì Inside",link:"https://dernieredispo.com/lieux/red-star-fc-inside/"},
            {name:"CosaNostra",link:"https://dernieredispo.com/lieux/cosanostra/"},
            {name:"Flora Danica",link:"https://dernieredispo.com/lieux/flora-danica/"},
            {name:"Auteuil",link:"https://dernieredispo.com/lieux/auteuil/"},
            {name:"Sir Winston",link:"https://dernieredispo.com/lieux/sir-winston/"},
            {name:"MAMAMIA",link:"https://dernieredispo.com/lieux/mamamia/"},
            {name:"Les Magnolias du Parc Floral",link:"https://dernieredispo.com/lieux/les-magnolias-du-parc-floral/"},
            {name:"Le Pavillon d‚ÄôElsa",link:"https://dernieredispo.com/lieux/le-pavillon-delsa/"},
            {name:"Glorious Escape Game",link:"https://dernieredispo.com/lieux/glorious-escape-game/"},
            {name:"Pavillon des Oc√©ans",link:"https://dernieredispo.com/lieux/pavillon-des-oceans/"},
            {name:"La Villa",link:"https://dernieredispo.com/lieux/la-villa/"},
            {name:"L‚ÄôAtelier",link:"https://dernieredispo.com/lieux/latelier/"},
            {name:"La Villa Turquoise",link:"https://dernieredispo.com/lieux/la-villa-turquoise/"},
            {name:"Fondation Vasarely",link:"https://dernieredispo.com/lieux/fondation-vasarely/"},
            {name:"La Rocca IV",link:"https://dernieredispo.com/lieux/la-rocca-iv/"},
            {name:"Le Montebello",link:"https://dernieredispo.com/lieux/le-montebello/"},
            {name:"Manoir Loft 92",link:"https://dernieredispo.com/lieux/manoir-loft-92/"},
            {name:"La Maison d‚Äôart",link:"https://dernieredispo.com/lieux/la-maison-dart/"},
            {name:"Le Chapiteau",link:"https://dernieredispo.com/lieux/le-chapiteau/"},
            {name:"La Villa Utopia",link:"https://dernieredispo.com/lieux/la-villa-utopia/"},
            {name:"La Parisienne",link:"https://dernieredispo.com/lieux/la-parisienne/"},
            {name:"Le Ponton Emile",link:"https://dernieredispo.com/lieux/le-ponton-emile/"},
            {name:"Le bateau Ivre",link:"https://dernieredispo.com/lieux/le-bateau-ivre/"},
            {name:"Palais Cl√©ment Massier",link:"https://dernieredispo.com/lieux/palais-clement-massier-2/"},
            {name:"Le Melody Blues",link:"https://dernieredispo.com/lieux/le-melody-blues/"},
            {name:"Le Signac",link:"https://dernieredispo.com/lieux/le-signac/"},
            {name:"Le Saphir",link:"https://dernieredispo.com/lieux/le-saphir/"},
            {name:"Le Paris",link:"https://dernieredispo.com/lieux/le-paris/"},
            {name:"Noti Club",link:"https://dernieredispo.com/lieux/noti-club/"},
            {name:"Le Fort",link:"https://dernieredispo.com/lieux/le-fort/"},
            {name:"Le Garage",link:"https://dernieredispo.com/lieux/le-garage/"},
            {name:"La Collection",link:"https://dernieredispo.com/lieux/la-collection/"},
            {name:"La Galerie",link:"https://dernieredispo.com/lieux/la-galerie/"},
            {name:"VERDE PARIS",link:"https://dernieredispo.com/lieux/verde-paris/"},
            {name:"Ch√¢teau de Montchat",link:"https://dernieredispo.com/lieux/chateau-de-montchat/"},
            {name:"La Demeure",link:"https://dernieredispo.com/lieux/la-demeure/"},
            {name:"La Verri√®re",link:"https://dernieredispo.com/lieux/la-verriere/"},
            {name:"L‚ÄôItalien",link:"https://dernieredispo.com/lieux/litalien/"},
            {name:"Le Rooftop",link:"https://dernieredispo.com/lieux/le-rooftop/"},
            {name:"L‚ÄôAscensoir Rooftop",link:"https://dernieredispo.com/lieux/lascensoir-rooftop/"},
            {name:"Le Cabaret",link:"https://dernieredispo.com/lieux/le-cabaret/"},
            {name:"Le Loft",link:"https://dernieredispo.com/lieux/le-loft/"},
            {name:"Le Palais B√©n√©dictine",link:"https://dernieredispo.com/lieux/le-palais-benedictine/"},
            {name:"H√îTEL DU PORT",link:"https://dernieredispo.com/lieux/hotel-du-port/"},
            {name:"Le Clos",link:"https://dernieredispo.com/lieux/le-clos/"},
            {name:"Le Belv√©d√®re",link:"https://dernieredispo.com/lieux/le-belvedere/"},
            {name:"La Fabrique",link:"https://dernieredispo.com/lieux/la-fabrique/"},
            {name:"L‚ÄôHermitage de Moly",link:"https://dernieredispo.com/lieux/lhermitage-de-moly/"},
            {name:"Cazaudehore H√¥tel**** Restaurant gastronomique Banquets, Mariages et S√©minaires",link:"https://dernieredispo.com/lieux/cazaudehore-hotel-restaurant-gastronomique-banquets-mariages-et-seminaires/"},
            {name:"Le Marceau",link:"https://dernieredispo.com/lieux/le-marceau/"},
            {name:"Caf√© Cassette",link:"https://dernieredispo.com/lieux/cafe-cassette/"},
            {name:"Le Petit Pont",link:"https://dernieredispo.com/lieux/le-petit-pont/"},
            {name:"La Diva-des-Pr√©s",link:"https://dernieredispo.com/lieux/la-diva-des-pres-2/"},
            {name:"La P√©pini√®re",link:"https://dernieredispo.com/lieux/la-pepiniere/"},
            {name:"H√¥tel FOREST HILL PARIS MEUDON-VELIZY‚òÖ‚òÖ‚òÖ‚òÖ",link:"https://dernieredispo.com/lieux/hotel-forest-hill-paris-meudon-velizy%e2%98%85%e2%98%85%e2%98%85%e2%98%85/"},
            {name:"SINGING STUDIO Paris",link:"https://dernieredispo.com/lieux/singing-studio-paris/"},
            {name:"Bateau Confluence",link:"https://dernieredispo.com/lieux/bateau-confluence/"},
            {name:"Bateau l‚ÄôOfficiel",link:"https://dernieredispo.com/lieux/bateau-lofficiel/"},
            {name:"Bateau Volupt√©",link:"https://dernieredispo.com/lieux/bateau-volupte/"},
            {name:"Les pavillons Etoile & Presbourg",link:"https://dernieredispo.com/lieux/les-pavillons-etoile-presbourg/"},
            {name:"La Galerie Bourbon",link:"https://dernieredispo.com/lieux/la-galerie-bourbon/"},
            {name:"MAPI√àCE Fontani√®res",link:"https://dernieredispo.com/lieux/mapiece-fontanieres/"},
            {name:"Maggie Restaurant",link:"https://dernieredispo.com/lieux/maggie-restaurant/"},
            {name:"Mikado Dancing",link:"https://dernieredispo.com/lieux/mikado-dancing/"},
            {name:"Citrons et Hu√Ætres",link:"https://dernieredispo.com/lieux/citrons-et-huitres-2/"},
            {name:"COLORIAJ",link:"https://dernieredispo.com/lieux/coloriaj/"},
            {name:"H√¥tel Gaillard",link:"https://dernieredispo.com/lieux/hotel-gaillard/"},
            {name:"Galerie MASUREL",link:"https://dernieredispo.com/lieux/galerie-masurel/"},
            {name:"Le Grand Corona",link:"https://dernieredispo.com/lieux/le-grand-corona/"},
            {name:"MAPI√àCE Beaujolais",link:"https://dernieredispo.com/lieux/mapiece-beaujolais/"},
            {name:"MAPI√àCE Jacobins",link:"https://dernieredispo.com/lieux/mapiece-jacobins/"},
            {name:"MAPI√àCE Bellecour",link:"https://dernieredispo.com/lieux/mapiece-bellecour/"},
            {name:"Le papillon Bleu",link:"https://dernieredispo.com/lieux/le-papillon-bleu/"},
            {name:"Electric Paris",link:"https://dernieredispo.com/lieux/electric-paris/"},
            {name:"Atelier des Abbesses",link:"https://dernieredispo.com/lieux/atelier-des-abbesses/"},
            {name:"HARRYCOW",link:"https://dernieredispo.com/lieux/harrycow/"},
            {name:"LE PARIS CLANDESTIN",link:"https://dernieredispo.com/lieux/le-paris-clandestin-2/"},
            {name:"Villa Sophia",link:"https://dernieredispo.com/lieux/villa-sophia/"},
            {name:"ATELIER DU FRANCE",link:"https://dernieredispo.com/lieux/atelier-du-france/"},
            {name:"Tennessee",link:"https://dernieredispo.com/lieux/tennessee/"},
            {name:"H√©m√©ra",link:"https://dernieredispo.com/lieux/hemera/"},
            {name:"LA PERLE NOIRE",link:"https://dernieredispo.com/lieux/la-perle-noire/"},
            {name:"Mississippi",link:"https://dernieredispo.com/lieux/mississippi/"},
            {name:"River Palace",link:"https://dernieredispo.com/lieux/river-palace/"},
            {name:"Clipper Paris",link:"https://dernieredispo.com/lieux/clipper-paris/"},
            {name:"Art‚Äôgentiers",link:"https://dernieredispo.com/lieux/artgentiers/"},
            {name:"TOUT LE MONDE EN PARLE",link:"https://dernieredispo.com/lieux/tout-le-monde-en-parle/"},
            {name:"Yaya Secr√©tan",link:"https://dernieredispo.com/lieux/yaya-secretan/"},
            {name:"Eatlab",link:"https://dernieredispo.com/lieux/eatlab/"},
            {name:"NX Paintball",link:"https://dernieredispo.com/lieux/nx-paintball/"},
            {name:"Espace Cl√©ry",link:"https://dernieredispo.com/lieux/espace-clery/"},
            {name:"ATELIER FIL ROUGE",link:"https://dernieredispo.com/lieux/atelier-fil-rouge/"},
            {name:"ESPACE LA ROCHEFOUCAULD",link:"https://dernieredispo.com/lieux/espace-la-rochefoucauld/"},
            {name:"Espace Vinci",link:"https://dernieredispo.com/lieux/espace-vinci/"},
            {name:"Domaine Santa Maria",link:"https://dernieredispo.com/lieux/domaine-santa-maria-2/"},
            {name:"Fort de Vaise",link:"https://dernieredispo.com/lieux/fort-de-vaise/"},
            {name:"Th√©√¢tre Paradoxe",link:"https://dernieredispo.com/lieux/theatre-paradoxe/"},
            {name:"Etincelle Coworking Alsace Lorraine",link:"https://dernieredispo.com/lieux/etincelle-coworking-alsace-lorraine/"},
            {name:"Versailles Palais des Congr√®s",link:"https://dernieredispo.com/lieux/versailles-palais-des-congres/"},
            {name:"La Coque",link:"https://dernieredispo.com/lieux/la-coque/"},
            {name:"La Scala Paris",link:"https://dernieredispo.com/lieux/la-scala-paris/"},
            {name:"Giulia",link:"https://dernieredispo.com/lieux/giulia/"},
            {name:"PACHAMAMA PARIS",link:"https://dernieredispo.com/lieux/pachamama-paris/"},
            {name:"AMC Cape Grace",link:"https://dernieredispo.com/lieux/amc-cape-grace/"},
            {name:"Th√©√¢tre du Lido",link:"https://dernieredispo.com/lieux/theatre-du-lido/"},
            {name:"BRIQUE MACHINE",link:"https://dernieredispo.com/lieux/brique-machine/"},
            {name:"STUDIO HARCOURT",link:"https://dernieredispo.com/lieux/studio-harcourt/"},
            {name:"Escape Hunt Bordeaux",link:"https://dernieredispo.com/lieux/escape-hunt-bordeaux/"},
            {name:"Castel Clara",link:"https://dernieredispo.com/lieux/castel-clara/"},
            {name:"P√©niche Antipode",link:"https://dernieredispo.com/lieux/peniche-antipode/"},
            {name:"THE EGG Brussels",link:"https://dernieredispo.com/lieux/the-egg-brussels/"},
            {name:"Th√©√¢tre du Splendid",link:"https://dernieredispo.com/lieux/theatre-du-splendid/"},
            {name:"Th√©√¢tre de la Renaissance",link:"https://dernieredispo.com/lieux/theatre-de-la-renaissance/"},
            {name:"Restaurant Le P√®re Joseph",link:"https://dernieredispo.com/lieux/restaurant-le-pere-joseph/"},
            {name:"Loft √©v√©nementiel",link:"https://dernieredispo.com/lieux/loft-evenementiel/"},
            {name:"La Maison b45",link:"https://dernieredispo.com/lieux/la-maison-b45/"},
            {name:"La Siesta ‚Äì Bateau sur la Seine",link:"https://dernieredispo.com/lieux/la-siesta-bateau-sur-la-seine/"},
            {name:"Altezza Arc 1800 H√¥tel & Spa",link:"https://dernieredispo.com/lieux/altezza-arc-1800-hotel-spa/"},
            {name:"Ch√¢teau d‚ÄôUrspelt",link:"https://dernieredispo.com/lieux/chateau-durspelt/"},
            {name:"Refuge du Montenvers",link:"https://dernieredispo.com/lieux/refuge-du-montenvers/"},
            {name:"Chalet H√¥tel le Prieur√©",link:"https://dernieredispo.com/lieux/chalet-hotel-le-prieure/"},
            {name:"Lykke H√¥tel & Spa",link:"https://dernieredispo.com/lieux/lykke-hotel-spa/"},
            {name:"Bel Air Camp",link:"https://dernieredispo.com/lieux/bel-air-camp/"},
            {name:"Alpina Eclectic H√¥tel & Spa",link:"https://dernieredispo.com/lieux/alpina-eclectic-hotel-spa/"},
            {name:"Suites de l‚ÄôIle Barbe",link:"https://dernieredispo.com/lieux/suites-de-lile-barbe/"},
            {name:"Rivage H√¥tel & Spa",link:"https://dernieredispo.com/lieux/rivage-hotel-spa/"},
            {name:"Fort de Feyzin",link:"https://dernieredispo.com/lieux/fort-de-feyzin/"},
            {name:"Elys√©e Montmartre",link:"https://dernieredispo.com/lieux/elysee-montmartre/"},
            {name:"Institut d‚ÄôArt Contemporain",link:"https://dernieredispo.com/lieux/institut-dart-contemporain/"},
            {name:"Le Trianon",link:"https://dernieredispo.com/lieux/le-trianon/"},
            {name:"Le Studio 33",link:"https://dernieredispo.com/lieux/le-studio-33/"},
            {name:"LE PAKEBOT",link:"https://dernieredispo.com/lieux/le-pakebot-2/"},
            {name:"Nida",link:"https://dernieredispo.com/lieux/nida/"},
            {name:"CRAZY HALL",link:"https://dernieredispo.com/lieux/crazy-hall/"},
            {name:"MODULO",link:"https://dernieredispo.com/lieux/modulo/"},
            {name:"Mus√©e de Montmartre",link:"https://dernieredispo.com/lieux/musee-de-montmartre/"},
            {name:"Masha",link:"https://dernieredispo.com/lieux/masha/"},
            {name:"Th√©√¢tre Edouard VII",link:"https://dernieredispo.com/lieux/theatre-edouard-vii/"},
            {name:"The Place to Bee",link:"https://dernieredispo.com/lieux/the-place-to-bee/"},
            {name:"Cirque d‚Äôhiver Bouglione",link:"https://dernieredispo.com/lieux/cirque-dhiver-bouglione/"},
            {name:"Zenith Paris La Villette",link:"https://dernieredispo.com/lieux/zenith-paris-la-villette/"},
            {name:"Bizz‚ÄôArt",link:"https://dernieredispo.com/lieux/bizzart/"},
            {name:"Th√©√¢tre Saint-Georges",link:"https://dernieredispo.com/lieux/theatre-saint-georges/"},
            {name:"P√©niche la Baleine Blanche",link:"https://dernieredispo.com/lieux/peniche-la-baleine-blanche/"},
            {name:"Espace Soya",link:"https://dernieredispo.com/lieux/espace-soya/"},
            {name:"Patio 99",link:"https://dernieredispo.com/lieux/patio-99/"},
            {name:"Restaurant 99",link:"https://dernieredispo.com/lieux/restaurant-99/"},
            {name:"Salon Bowmann",link:"https://dernieredispo.com/lieux/salon-bowmann/"},
            {name:"Suite Bowmann Penthouse Rooftop",link:"https://dernieredispo.com/lieux/suite-bowmann-penthouse-rooftop/"},
            {name:"CHATEAU LE BOUIS",link:"https://dernieredispo.com/lieux/chateau-le-bouis/"},
            {name:"La Fav",link:"https://dernieredispo.com/lieux/la-fav/"},
            {name:"Manoir du Stang ***",link:"https://dernieredispo.com/lieux/manoir-du-stang/"},
            {name:"Domaine Du Plessis Ka√´r",link:"https://dernieredispo.com/lieux/domaine-du-plessis-kaer/"},
            {name:"Les Vignes Rouges",link:"https://dernieredispo.com/lieux/les-vignes-rouges/"},
            {name:"L‚ÄôArlequin",link:"https://dernieredispo.com/lieux/larlequin/"},
            {name:"Le Castel Marie-Louise",link:"https://dernieredispo.com/lieux/le-castel-marie-louise/"},
            {name:"L‚ÄôHermitage",link:"https://dernieredispo.com/lieux/lhermitage/"},
            {name:"Le Royal La Baule",link:"https://dernieredispo.com/lieux/le-royal-la-baule/"},
            {name:"BO RANCH",link:"https://dernieredispo.com/lieux/bo-ranch/"},
            {name:"Le Grand H√¥tel Barri√®re de Dinard",link:"https://dernieredispo.com/lieux/le-grand-hotel-barriere-de-dinard/"},
            {name:"LiveBar",link:"https://dernieredispo.com/lieux/livebar-2/"},
            {name:"HOTEL BARRIERE LE WESTMINSTER LE TOUQUET",link:"https://dernieredispo.com/lieux/hotel-barriere-le-westminster-le-touquet/"},
            {name:"PUCKS ‚Ä¢ Shuffle Bar",link:"https://dernieredispo.com/lieux/pucks-shuffle-bar/"},
            {name:"RESORT BARRIERE DE LILLE",link:"https://dernieredispo.com/lieux/resort-barriere-de-lille/"},
            {name:"Le 3Bis",link:"https://dernieredispo.com/lieux/le-3bis/"},
            {name:"EQUIRIA",link:"https://dernieredispo.com/lieux/equiria/"},
            {name:"LE LOFT 1PAKT",link:"https://dernieredispo.com/lieux/le-loft-1pakt/"},
            {name:"LE GRAND LARGE",link:"https://dernieredispo.com/lieux/le-grand-large/"},
            {name:"Cit√© internationale de la gastronomie et du vin Dijon",link:"https://dernieredispo.com/lieux/cite-internationale-de-la-gastronomie-et-du-vin-dijon/"},
            {name:"FRAPP√â BLOOM",link:"https://dernieredispo.com/lieux/frappe-bloom/"},
            {name:"Espace Mont-Louis",link:"https://dernieredispo.com/lieux/espace-mont-louis/"},
            {name:"Domaine du Kaegy",link:"https://dernieredispo.com/lieux/domaine-du-kaegy/"},
            {name:"Gamescape ‚Äì Escape Game Paris",link:"https://dernieredispo.com/lieux/gamescape-escape-game-paris/"},
            {name:"H√¥tel Dormy House Etretat",link:"https://dernieredispo.com/lieux/hotel-dormy-house-etretat/"},
            {name:"H√¥tel Renaissance Aix-en-Provence",link:"https://dernieredispo.com/lieux/hotel-renaissance-aix-en-provence/"},
            {name:"House of Codesign",link:"https://dernieredispo.com/lieux/house-of-codesign/"},
            {name:"Huatian Chinagora : Ville Chinoise",link:"https://dernieredispo.com/lieux/huatian-chinagora-ville-chinoise/"},
            {name:"Iza Pigalle",link:"https://dernieredispo.com/lieux/iza-pigalle/"},
            {name:"Espace Charenton",link:"https://dernieredispo.com/lieux/espace-charenton/"},
            {name:"Domaine de Dampierre-en-Yvelines",link:"https://dernieredispo.com/lieux/domaine-de-dampierre-en-yvelines/"},
            {name:"Djoon",link:"https://dernieredispo.com/lieux/djoon/"},
            {name:"COSY MEETING CENTER",link:"https://dernieredispo.com/lieux/cosy-meeting-center/"},
            {name:"Ch√¢teau-parc de Meung-sur-Loire",link:"https://dernieredispo.com/lieux/chateau-parc-de-meung-sur-loire/"},
            {name:"Le Camondo",link:"https://dernieredispo.com/lieux/le-camondo/"},
            {name:"Le Caf√© Chic",link:"https://dernieredispo.com/lieux/le-cafe-chic/"},
            {name:"Le cabaret de la boh√®me",link:"https://dernieredispo.com/lieux/le-cabaret-de-la-boheme/"},
            {name:"Le Basilic",link:"https://dernieredispo.com/lieux/le-basilic/"},
            {name:"Le 39V",link:"https://dernieredispo.com/lieux/le-39v/"},
            {name:"La Sc√®ne",link:"https://dernieredispo.com/lieux/la-scene/"},
            {name:"LA SALLE DE SPORT PARIS MADELEINE",link:"https://dernieredispo.com/lieux/la-salle-de-sport-paris-madeleine/"},
            {name:"La Magnanerie",link:"https://dernieredispo.com/lieux/la-magnanerie/"},
            {name:"La guinguette",link:"https://dernieredispo.com/lieux/la-guinguette/"},
            {name:"La Fabrique R√©publique",link:"https://dernieredispo.com/lieux/la-fabrique-republique/"},
            {name:"La Fabrique Marais",link:"https://dernieredispo.com/lieux/la-fabrique-marais/"},
            {name:"Le Caf√© Louise",link:"https://dernieredispo.com/lieux/le-cafe-louise/"},
            {name:"La Diva des Pr√©s",link:"https://dernieredispo.com/lieux/la-diva-des-pres/"},
            {name:"Ch√¢teau du Bois du Rocher",link:"https://dernieredispo.com/lieux/chateau-du-bois-du-rocher/"},
            {name:"La Beer Fabrique",link:"https://dernieredispo.com/lieux/la-beer-fabrique/"},
            {name:"L‚ÄôOlivia",link:"https://dernieredispo.com/lieux/lolivia/"},
            {name:"L‚ÄôImpasse",link:"https://dernieredispo.com/lieux/limpasse/"},
            {name:"L‚ÄôAtelier des R√™ves ‚Äì Galerie d‚ÄôArt Po√©tique",link:"https://dernieredispo.com/lieux/latelier-des-reves-galerie-dart-poetique/"},
            {name:"L‚ÄôAtelier Chebassier",link:"https://dernieredispo.com/lieux/latelier-chebassier/"},
            {name:"L‚ÄôATELIER ‚Äì REVEZ D‚ÄôAILLEURS",link:"https://dernieredispo.com/lieux/latelier-revez-dailleurs/"},
            {name:"Les Salons Varenne",link:"https://dernieredispo.com/lieux/les-salons-varenne/"},
            {name:"Les Jardins de Sophie",link:"https://dernieredispo.com/lieux/les-jardins-de-sophie/"},
            {name:"Les Granges D‚Äôen Haut",link:"https://dernieredispo.com/lieux/les-granges-den-haut/"},
            {name:"Le Secret de l‚Äô√Æle",link:"https://dernieredispo.com/lieux/le-secret-de-lile/"},
            {name:"LE SCARLETT",link:"https://dernieredispo.com/lieux/le-scarlett/"},
            {name:"Le Cardinal",link:"https://dernieredispo.com/lieux/le-cardinal/"},
            {name:"Le Pakebot",link:"https://dernieredispo.com/lieux/le-pakebot/"},
            {name:"Centre Events Paris",link:"https://dernieredispo.com/lieux/centre-events-paris/"},
            {name:"Le Nelson‚Äôs",link:"https://dernieredispo.com/lieux/le-nelsons/"},
            {name:"Le Moulin de Vauboyen",link:"https://dernieredispo.com/lieux/le-moulin-de-vauboyen/"},
            {name:"Carr√© Fourvi√®re",link:"https://dernieredispo.com/lieux/carre-fourviere/"},
            {name:"Le Mas des Bartavelles",link:"https://dernieredispo.com/lieux/le-mas-des-bartavelles/"},
            {name:"Caf√© Fleurus",link:"https://dernieredispo.com/lieux/cafe-fleurus/"},
            {name:"Le Magnifique",link:"https://dernieredispo.com/lieux/le-magnifique/"},
            {name:"Le M. Mus√©e du Vin",link:"https://dernieredispo.com/lieux/le-m-musee-du-vin/"},
            {name:"LE LIEU SECRET",link:"https://dernieredispo.com/lieux/le-lieu-secret/"},
            {name:"LE KARE ‚Äì REVEZ D‚ÄôAILLEURS",link:"https://dernieredispo.com/lieux/le-kare-revez-dailleurs/"},
            {name:"Le Gustave ‚Äì Vedettes de Paris",link:"https://dernieredispo.com/lieux/le-gustave-vedettes-de-paris/"},
            {name:"Domaine Tropez, Magnifique Vignoble √† Gassin",link:"https://dernieredispo.com/lieux/domaine-tropez-magnifique-vignoble-a-gassin/"},
            {name:"Le Depanneur Pigalle",link:"https://dernieredispo.com/lieux/le-depanneur-pigalle/"},
            {name:"P√©niche LE POSEIDON",link:"https://dernieredispo.com/lieux/peniche-le-poseidon/"},
            {name:"Pavillon Wagram",link:"https://dernieredispo.com/lieux/pavillon-wagram/"},
            {name:"Patio Albert",link:"https://dernieredispo.com/lieux/patio-albert/"},
            {name:"Pan Piper",link:"https://dernieredispo.com/lieux/pan-piper/"},
            {name:"Palais Cl√©ment Massier",link:"https://dernieredispo.com/lieux/palais-clement-massier/"},
            {name:"Cabaret Sauvage",link:"https://dernieredispo.com/lieux/cabaret-sauvage/"},
            {name:"Novotel Poissy Orgeval",link:"https://dernieredispo.com/lieux/novotel-poissy-orgeval/"},
            {name:"Nouveau Casino",link:"https://dernieredispo.com/lieux/nouveau-casino/"},
            {name:"Caf√© du Mexique",link:"https://dernieredispo.com/lieux/cafe-du-mexique/"},
            {name:"NEWCAP Event Center",link:"https://dernieredispo.com/lieux/newcap-event-center/"},
            {name:"Mus√©e de l‚Äôillusion Lyon",link:"https://dernieredispo.com/lieux/musee-de-lillusion-lyon/"},
            {name:"Moloko Saint Tropez ‚Äì Hotel Kube Saint-Tropez 5*",link:"https://dernieredispo.com/lieux/moloko-saint-tropez-hotel-kube-saint-tropez-5/"},
            {name:"Caf√© Concorde",link:"https://dernieredispo.com/lieux/cafe-concorde/"},
            {name:"Moloko Paris",link:"https://dernieredispo.com/lieux/moloko-paris/"},
            {name:"MIRAGE PRODUCTIONS ‚Äì Studio de tournage √† Paris",link:"https://dernieredispo.com/lieux/mirage-productions-studio-de-tournage-a-paris/"},
            {name:"METAFORE VINCENNES",link:"https://dernieredispo.com/lieux/metafore-vincennes/"},
            {name:"Bustronome",link:"https://dernieredispo.com/lieux/bustronome/"},
            {name:"METAFORE BOETIE",link:"https://dernieredispo.com/lieux/metafore-boetie/"},
            {name:"Bus Discotheque",link:"https://dernieredispo.com/lieux/bus-discotheque/"},
            {name:"Mercure Paris Montparnasse Gare TGV",link:"https://dernieredispo.com/lieux/mercure-paris-montparnasse-gare-tgv/"},
            {name:"Melia Paris La D√©fense",link:"https://dernieredispo.com/lieux/melia-paris-la-defense/"},
            {name:"Manoir 92",link:"https://dernieredispo.com/lieux/manoir-92/"},
            {name:"Belle Vall√©e",link:"https://dernieredispo.com/lieux/belle-vallee/"},
            {name:"Madame Arthur",link:"https://dernieredispo.com/lieux/madame-arthur/"},
            {name:"Loft Triangle D‚Äôor",link:"https://dernieredispo.com/lieux/loft-triangle-dor/"},
            {name:"BE JAZZY",link:"https://dernieredispo.com/lieux/be-jazzy/"},
            {name:"LIVEBAR",link:"https://dernieredispo.com/lieux/livebar/"},
            {name:"Bar le 153",link:"https://dernieredispo.com/lieux/bar-le-153/"},
            {name:"Quai de la Photo",link:"https://dernieredispo.com/lieux/quai-de-la-photo/"},
            {name:"Quai Libert√©",link:"https://dernieredispo.com/lieux/quai-liberte/"},
            {name:"R√©sidence de l‚ÄôArsenal Royal",link:"https://dernieredispo.com/lieux/residence-de-larsenal-royal/"},
            {name:"Resort Barri√®re Enghein Les Bains",link:"https://dernieredispo.com/lieux/resort-barriere-enghein-les-bains/"},
            {name:"TADAM Restaurant",link:"https://dernieredispo.com/lieux/tadam-restaurant/"},
            {name:"Aux Belles Poules",link:"https://dernieredispo.com/lieux/aux-belles-poules/"},
            {name:"Restaurant Le Cirque",link:"https://dernieredispo.com/lieux/restaurant-le-cirque/"},
            {name:"Artistic Palace ‚Äì Le salon",link:"https://dernieredispo.com/lieux/artistic-palace-le-salon/"},
            {name:"Rizom Meeting",link:"https://dernieredispo.com/lieux/rizom-meeting/"},
            {name:"ARTFLO",link:"https://dernieredispo.com/lieux/643-2/"},
            {name:"ROOFTOP Grenelle",link:"https://dernieredispo.com/lieux/rooftop-grenelle/"},
            {name:"Saison2",link:"https://dernieredispo.com/lieux/saison2/"},
            {name:"Aquarium de Paris",link:"https://dernieredispo.com/lieux/aquarium-de-paris/"},
            {name:"Salon des Miroirs",link:"https://dernieredispo.com/lieux/salon-des-miroirs/"},
            {name:"Serre Nature Urbaine",link:"https://dernieredispo.com/lieux/serre-nature-urbaine/"},
            {name:"Splendid showroom Saint Honor√© ‚Äì 229 LAB",link:"https://dernieredispo.com/lieux/splendid-showroom-saint-honore-229-lab/"},
            {name:"1K HOTEL",link:"https://dernieredispo.com/lieux/1k-hotel/"},
            {name:"STUDIO K",link:"https://dernieredispo.com/lieux/studio-k/"},
            {name:"Th√©√¢tre de l‚ÄôAtelier",link:"https://dernieredispo.com/lieux/theatre-de-latelier/"},
            {name:"Th√©√¢tre du Renard",link:"https://dernieredispo.com/lieux/theatre-du-renard/"},
            {name:"Nomad Community",link:"https://dernieredispo.com/lieux/nomad-community/"},
            {name:"Un peu, Bocaux",link:"https://dernieredispo.com/lieux/un-peu-bocaux/"},
            {name:"3e Cercle",link:"https://dernieredispo.com/lieux/3e-cercle/"},
            {name:"Le Solaris",link:"https://dernieredispo.com/lieux/le-solaris/"},
            {name:"Ventrus ‚Äì Restaurant loft en bois au bord de l‚Äôeau",link:"https://dernieredispo.com/lieux/287-2/"},
            {name:"Villa Yora",link:"https://dernieredispo.com/lieux/villa-yora/"},
            {name:"Village du S√©minaire",link:"https://dernieredispo.com/lieux/village-du-seminaire/"},
            {name:"Octopus",link:"https://dernieredispo.com/lieux/octopus/"},
            {name:"Le Domaine de la Coudraie",link:"https://dernieredispo.com/lieux/le-domaine-de-la-coudraie/"},
            {name:"Voie 15",link:"https://dernieredispo.com/lieux/voie-15/"},
            {name:"L‚ÄôAtelier du France",link:"https://dernieredispo.com/lieux/latelier-du-france/"},
            {name:"Yacatan",link:"https://dernieredispo.com/lieux/yacatan/"},
            {name:"Le Petit Boutary",link:"https://dernieredispo.com/lieux/le-petit-boutary/"},
            {name:"Biltoki Halles d‚ÄôIssy les Moulineaux",link:"https://dernieredispo.com/lieux/biltoki-halles-dissy-les-moulineaux/"}
        ];
        
        // Merge with GA4 data
        const lieuxWithStats = allLieux.map(l => {
            const normalized = normalizeName(l.name);
            const stats = ga4Lookup[normalized] || { views: 0, visitors: 0 };
            return { ...l, views: stats.views, visitors: stats.visitors };
        });
        
        // Sort state
        let currentSort = { field: 'views', dir: 'desc' };
        let filteredLieux = [...lieuxWithStats];
        
        function sortLieux(field) {
            if (currentSort.field === field) {
                currentSort.dir = currentSort.dir === 'desc' ? 'asc' : 'desc';
            } else {
                currentSort.field = field;
                currentSort.dir = field === 'name' ? 'asc' : 'desc';
            }
            
            filteredLieux.sort((a, b) => {
                let va = a[field], vb = b[field];
                if (field === 'name') {
                    va = va.toLowerCase();
                    vb = vb.toLowerCase();
                }
                if (va < vb) return currentSort.dir === 'asc' ? -1 : 1;
                if (va > vb) return currentSort.dir === 'asc' ? 1 : -1;
                // Secondary sort by name
                if (field !== 'name') return a.name.toLowerCase().localeCompare(b.name.toLowerCase());
                return 0;
            });
            
            renderTable();
            updateSortHeaders();
        }
        
        function updateSortHeaders() {
            document.querySelectorAll('.lieux-table th[data-sort]').forEach(th => {
                const field = th.dataset.sort;
                const icon = th.querySelector('.sort-icon');
                if (field === currentSort.field || (field === 'rank' && currentSort.field === 'views')) {
                    th.classList.add('sorted');
                    icon.textContent = currentSort.dir === 'desc' ? '‚ñº' : '‚ñ≤';
                } else {
                    th.classList.remove('sorted');
                    icon.textContent = '‚ñº';
                }
            });
        }
        
        function renderTable() {
            const tbody = document.getElementById('lieux-tbody');
            if (filteredLieux.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" class="lieux-empty">Aucun lieu trouv√©</td></tr>';
                return;
            }
            
            tbody.innerHTML = filteredLieux.map((l, i) => {
                const rank = i + 1;
                const isTop3 = rank <= 3 && l.views > 0;
                const rankHtml = isTop3
                    ? `<span class="rank-badge top">${rank}</span>`
                    : `<span class="rank-badge normal">${rank}</span>`;
                
                return `<tr>
                    <td>${rankHtml}</td>
                    <td class="lieu-name">${l.name}</td>
                    <td class="lieu-views">${l.views}</td>
                    <td class="lieu-visitors col-visitors">${l.visitors}</td>
                    <td><a href="${l.link}" target="_blank" class="lieu-link">Voir ‚Üí</a></td>
                </tr>`;
            }).join('');
        }
        
        // Search filter
        document.getElementById('lieux-search').addEventListener('input', function() {
            const query = normalizeName(this.value);
            filteredLieux = lieuxWithStats.filter(l => normalizeName(l.name).includes(query));
            sortLieux(currentSort.field);
            document.getElementById('lieux-count').textContent = 
                `${filteredLieux.length} lieu${filteredLieux.length > 1 ? 'x' : ''} sur ${allLieux.length}`;
        });
        
        // Sort on header click
        document.querySelectorAll('.lieux-table th[data-sort]').forEach(th => {
            th.addEventListener('click', () => {
                const field = th.dataset.sort;
                sortLieux(field === 'rank' ? 'views' : field);
            });
        });
        
        // Initial sort and render
        sortLieux('views');
    </script>
</body>
</html>
